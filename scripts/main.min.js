function shackUp(){this.baseURI=document.URL,this.pos=0,this.body=$("body"),this.saved=[],this.queue=listings,this.init=function(){this.registerClickHandlers(),this.initSwipe($(".listing"))},this.love=function(){var t=$(this).parents(".listing");t.animate({opacity:0,left:"+=100%"},300,function(){shack.saved.push(t.detach())})},this.hate=function(){$(this).parents(".listing").animate({opacity:0,left:"-=100%"},300,function(){this.remove()})},this.showAbout=function(){$(event.target).parents(".listing").removeClass().addClass("listing listing--detailed")},this.initSwipe=function(t){t.on("swipeleft",function(){var t=$(this);if(!t.hasClass("listing--detailed")){var e=$(this).find(".listing__pass-button");e.trigger("click")}}),t.on("swiperight",function(){var t=$(this);if(!t.hasClass("listing--detailed")){var e=$(this).find(".listing__like-button");e.trigger("click")}})},this.registerClickHandlers=function(){var t=$(".listing__like-button"),e=$(".listing__pass-button"),i=$('.listing__nav [data-type="about"]'),n=$('.listing__nav [data-type="contact"]');t.click(this.love),e.click(this.hate),i.click(this.showAbout),n.click(this.showContact)}}var shack=shack||new shackUp;$(document).ready(function(){shack.init(),$(".nav-menu").click(function(){$(".menu").toggleClass("menu-open"),$(".overlay").fadeToggle(400,"linear")}),$(".nav-list").click(function(){$(".saved").toggleClass("saved-open"),$(".container").toggleClass("panel-open"),$(".nav-logo").toggleClass("active"),$(this).toggleClass("active")}),$(".overlay").click(function(t){$(".menu").removeClass("menu-open"),$(".overlay").fadeToggle(200,"linear")}),$(".listing__gallery").click(function(t){var e=$(this),i=e.parents(".listing");i.hasClass("listing--detailed")?(t.stopPropagation(),i.removeClass("listing--detailed listing--contact"),e.unslider("destroySwipe"),e.unslider("destroyKeys"),$(".unslider-nav").css("display","none")):(i.addClass("listing--detailed"),e.removeClass("stopped"),e.hasClass("initialized")?(e.unslider("initSwipe"),e.unslider("initKeys"),$(".unslider-nav").css("display","block")):(e.unslider({arrows:!1,autoplay:!1,speed:500,complete:function(){},keys:!0,nav:!0,fluid:!0}),e.addClass("initialized")))})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function i(t){function e(t){n?(i(),N(e),a=!0,n=!1):a=!1}var i=t,n=!1,a=!1;this.kick=function(t){n=!0,a||e()},this.end=function(t){var e=i;t&&(a?(i=n?function(){e(),t()}:t,n=!0):t())}}function n(){return!0}function a(){return!1}function o(t){t.preventDefault()}function s(t){R[t.target.tagName.toLowerCase()]||t.preventDefault()}function r(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function c(t,e){var i,n;if(t.identifiedTouch)return t.identifiedTouch(e);for(i=-1,n=t.length;++i<n;)if(t[i].identifier===e)return t[i]}function u(t,e){var i=c(t.changedTouches,e.identifier);if(i&&(i.pageX!==e.pageX||i.pageY!==e.pageY))return i}function d(t){var e;r(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},j(document,z.move,l,e),j(document,z.cancel,f,e))}function l(t){var e=t.data;y(t,e,t,v)}function f(t){v()}function v(){D(document,z.move,l),D(document,z.cancel,f)}function p(t){var e,i;R[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],i={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},j(document,I.move+"."+e.identifier,m,i),j(document,I.cancel+"."+e.identifier,g,i))}function m(t){var e=t.data,i=u(t,e);i&&y(t,e,i,h)}function g(t){var e=t.data,i=c(t.changedTouches,e.identifier);i&&h(e.identifier)}function h(t){D(document,"."+t,m),D(document,"."+t,g)}function y(t,e,i,n){var a=i.pageX-e.startX,o=i.pageY-e.startY;U*U>a*a+o*o||X(t,e,i,a,o,n)}function w(){return this._handled=n,!1}function $(t){t._handled()}function X(t,e,i,n,a,o){var s,r;e.target;s=t.targetTouches,r=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=n,e.distY=a,e.deltaX=n,e.deltaY=a,e.pageX=i.pageX,e.pageY=i.pageY,e.velocityX=n/r,e.velocityY=a/r,e.targetTouches=s,e.finger=s?s.length:1,e._handled=w,e._preventTouchmoveDefault=function(){t.preventDefault()},K(e.target,e),o(e.identifier)}function Y(t){var e=t.data.event,i=t.data.timer;S(e,t,t.timeStamp,i)}function _(t){var e=t.data.event,i=t.data.timer;x(),b(e,i,function(){setTimeout(function(){D(e.target,"click",a)},0)})}function x(t){D(document,z.move,Y),D(document,z.end,_)}function C(t){var e=t.data.event,i=t.data.timer,n=u(t,e);n&&(t.preventDefault(),e.targetTouches=t.targetTouches,S(e,n,t.timeStamp,i))}function k(t){var e=t.data.event,i=t.data.timer,n=c(t.changedTouches,e.identifier);n&&(T(e),b(e,i))}function T(t){D(document,"."+t.identifier,C),D(document,"."+t.identifier,k)}function S(t,e,i,n){var a=i-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/a,t.velocityY=.3*t.velocityY+.7*t.deltaY/a,t.pageX=e.pageX,t.pageY=e.pageY,n.kick()}function b(t,e,i){e.end(function(){return t.type="moveend",K(t.target,t),i&&i()})}function A(t,e,i){return j(this,"movestart.move",$),!0}function q(t){return D(this,"dragstart drag",o),D(this,"mousedown touchstart",s),D(this,"movestart",$),!0}function F(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(j(this,"dragstart."+t.guid+" drag."+t.guid,o,e,t.selector),j(this,"mousedown."+t.guid,s,e,t.selector))}function H(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(D(this,"dragstart."+t.guid+" drag."+t.guid),D(this,"mousedown."+t.guid))}var U=6,j=t.event.add,D=t.event.remove,K=function(e,i,n){t.event.trigger(i,n,e)},N=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)}}(),R={textarea:!0,input:!0,select:!0,button:!0},z={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},I={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:A,teardown:q,add:F,remove:H,_default:function(t){var n,o;t._handled()&&(n={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={event:n,timer:new i(function(e){K(t.target,n)})},t.identifier===e?(j(t.target,"click",a),j(document,z.move,Y,o),j(document,z.end,_,o)):(t._preventTouchmoveDefault(),j(document,I.move+"."+t.identifier,C,o),j(document,I.end+"."+t.identifier,k,o)))}},t.event.special.move={setup:function(){j(this,"movestart.move",t.noop)},teardown:function(){D(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){j(this,"movestart.moveend",t.noop)},teardown:function(){D(this,"movestart.moveend",t.noop)}},j(document,"mousedown.move",d),j(document,"touchstart.move",p),"function"==typeof Array.prototype.indexOf&&!function(t,e){for(var i=["changedTouches","targetTouches"],n=i.length;n--;)-1===t.event.props.indexOf(i[n])&&t.event.props.push(i[n])}(t)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){function i(t){var e,i,n;e=t.target.offsetWidth,i=t.target.offsetHeight,n={distX:t.distX,distY:t.distY,velocityX:t.velocityX,velocityY:t.velocityY,finger:t.finger},t.distX>t.distY?t.distX>-t.distY?(t.distX/e>r.threshold||t.velocityX*t.distX/e*r.sensitivity>1)&&(n.type="swiperight",s(t.currentTarget,n)):(-t.distY/i>r.threshold||t.velocityY*t.distY/e*r.sensitivity>1)&&(n.type="swipeup",s(t.currentTarget,n)):t.distX>-t.distY?(t.distY/i>r.threshold||t.velocityY*t.distY/e*r.sensitivity>1)&&(n.type="swipedown",s(t.currentTarget,n)):(-t.distX/e>r.threshold||t.velocityX*t.distX/e*r.sensitivity>1)&&(n.type="swipeleft",s(t.currentTarget,n))}function n(e){var i=t.data(e,"event_swipe");return i||(i={count:0},t.data(e,"event_swipe",i)),i}var a=t.event.add,o=t.event.remove,s=function(e,i,n){t.event.trigger(i,n,e)},r={threshold:.4,sensitivity:6};t.event.special.swipe=t.event.special.swipeleft=t.event.special.swiperight=t.event.special.swipeup=t.event.special.swipedown={setup:function(t,e,o){var t=n(this);if(!(t.count++>0))return a(this,"moveend",i),!0},teardown:function(){var t=n(this);if(!(--t.count>0))return o(this,"moveend",i),!0},settings:r}}),!function(t){return t?(t.Unslider=function(e,i){var n=this;return n._="unslider",n.defaults={autoplay:!1,delay:3e3,speed:750,easing:"swing",keys:{prev:37,next:39},nav:!0,arrows:{prev:'<a class="'+n._+'-arrow prev">Prev</a>',next:'<a class="'+n._+'-arrow next">Next</a>'},animation:"horizontal",selectors:{container:"ul:first",slides:"li"},animateHeight:!1,activeClass:n._+"-active",swipe:!0,swipeThreshold:.2},n.$context=e,n.options={},n.$parent=null,n.$container=null,n.$slides=null,n.$nav=null,n.$arrows=[],n.total=0,n.current=0,n.prefix=n._+"-",n.eventSuffix="."+n.prefix+~~(2e3*Math.random()),n.interval=null,n.init=function(e){return n.options=t.extend({},n.defaults,e),n.$container=n.$context.find(n.options.selectors.container).addClass(n.prefix+"wrap"),n.$slides=n.$container.children(n.options.selectors.slides),n.setup(),t.each(["nav","arrows","keys","infinite"],function(e,i){n.options[i]&&n["init"+t._ucfirst(i)]()}),jQuery.event.special.swipe&&n.options.swipe&&n.initSwipe(),n.options.autoplay&&n.start(),n.calculateSlides(),n.$context.trigger(n._+".ready"),n.animate(n.options.index||n.current,"init")},n.setup=function(){n.$context.addClass(n.prefix+n.options.animation).wrap('<div class="'+n._+'" />'),n.$parent=n.$context.parent("."+n._);var t=n.$context.css("position");"static"===t&&n.$context.css("position","relative"),n.$context.css("overflow","hidden")},n.calculateSlides=function(){if(n.total=n.$slides.length,"fade"!==n.options.animation){var t="width";"vertical"===n.options.animation&&(t="height"),n.$container.css(t,100*n.total+"%").addClass(n.prefix+"carousel"),n.$slides.css(t,100/n.total+"%")}},n.start=function(){return n.interval=setTimeout(function(){n.next()},n.options.delay),n},n.stop=function(){return clearTimeout(n.interval),n},n.initNav=function(){var e=t('<nav class="'+n.prefix+'nav"><ol /></nav>');n.$slides.each(function(i){var a=this.getAttribute("data-nav")||i+1;t.isFunction(n.options.nav)&&(a=n.options.nav.call(n.$slides.eq(i),i,a)),e.children("ol").append('<li data-slide="'+i+'">'+a+"</li>")}),n.$nav=e.insertAfter(n.$context),n.$nav.find("li").on("click"+n.eventSuffix,function(){var e=t(this).addClass(n.options.activeClass);e.siblings().removeClass(n.options.activeClass),n.animate(e.attr("data-slide"))})},n.initArrows=function(){n.options.arrows===!0&&(n.options.arrows=n.defaults.arrows),t.each(n.options.arrows,function(e,i){n.$arrows.push(t(i).insertAfter(n.$context).on("click"+n.eventSuffix,n[e]))})},n.initKeys=function(){n.options.keys===!0&&(n.options.keys=n.defaults.keys),t(document).on("keyup"+n.eventSuffix,function(e){t.each(n.options.keys,function(i,a){e.which===a&&t.isFunction(n[i])&&n[i].call(n)})})},n.initSwipe=function(){var t=n.$slides.width();"fade"!==n.options.animation&&n.$container.on({movestart:function(t){return t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY?!!t.preventDefault():void n.$container.css("position","relative")},move:function(e){n.$container.css("left",-(100*n.current)+100*e.distX/t+"%")},moveend:function(e){Math.abs(e.distX)/t>n.options.swipeThreshold?n[e.distX<0?"next":"prev"]():n.$container.animate({left:-(100*n.current)+"%"},n.options.speed/2)}})},n.initInfinite=function(){var e=["first","last"];t.each(e,function(t,i){n.$slides.push.apply(n.$slides,n.$slides.filter(':not(".'+n._+'-clone")')[i]().clone().addClass(n._+"-clone")["insert"+(0===t?"After":"Before")](n.$slides[e[~~!t]]()))})},n.destroyArrows=function(){t.each(n.$arrows,function(t,e){e.remove()})},n.destroySwipe=function(){n.$container.off("movestart move moveend")},n.destroyKeys=function(){t(document).off("keyup"+n.eventSuffix)},n.setIndex=function(t){return 0>t&&(t=n.total-1),n.current=Math.min(Math.max(0,t),n.total-1),n.options.nav&&n.$nav.find('[data-slide="'+n.current+'"]')._active(n.options.activeClass),n.$slides.eq(n.current)._active(n.options.activeClass),n},n.animate=function(e,i){if("first"===e&&(e=0),"last"===e&&(e=n.total),isNaN(e))return n;n.options.autoplay&&n.stop().start(),n.setIndex(e),n.$context.trigger(n._+".change",[e,n.$slides.eq(e)]);var a="animate"+t._ucfirst(n.options.animation);return t.isFunction(n[a])&&n[a](n.current,i),n},n.next=function(){var t=n.current+1;return t>=n.total&&(t=0),n.animate(t,"next")},n.prev=function(){return n.animate(n.current-1,"prev")},n.animateHorizontal=function(t){var e="left";return"rtl"===n.$context.attr("dir")&&(e="right"),n.options.infinite&&n.$container.css("margin-"+e,"-100%"),n.slide(e,t)},n.animateVertical=function(t){return n.options.animateHeight=!0,n.options.infinite&&n.$container.css("margin-top",-n.$slides.outerHeight()),n.slide("top",t)},n.slide=function(t,e){if(n.options.animateHeight&&n._move(n.$context,{height:n.$slides.eq(e).outerHeight()},!1),n.options.infinite){var i;e===n.total-1&&(i=n.total-3,e=-1),e===n.total-2&&(i=0,e=n.total-2),"number"==typeof i&&(n.setIndex(i),n.$context.on(n._+".moved",function(){n.current===i&&n.$container.css(t,-(100*i)+"%").off(n._+".moved")}))}var a={};return a[t]=-(100*e)+"%",n._move(n.$container,a)},n.animateFade=function(t){var e=n.$slides.eq(t).addClass(n.options.activeClass);n._move(e.siblings().removeClass(n.options.activeClass),{opacity:0}),n._move(e,{opacity:1},!1)},n._move=function(t,e,i,a){return i!==!1&&(i=function(){n.$context.trigger(n._+".moved")}),t._move(e,a||n.options.speed,n.options.easing,i)},n.init(i)},t.fn._active=function(t){return this.addClass(t).siblings().removeClass(t)},t._ucfirst=function(t){return(t+"").toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},t.fn._move=function(){return this.stop(!0,!0),t.fn[t.fn.velocity?"velocity":"animate"].apply(this,arguments)},void(t.fn.unslider=function(e){return this.each(function(){var i=t(this);if("string"==typeof e&&i.data("unslider")){e=e.split(":");var n=i.data("unslider")[e[0]];if(t.isFunction(n))return n.apply(i,e[1]?e[1].split(","):null)}return i.data("unslider",new t.Unslider(i,e))})})):console.warn("Unslider needs jQuery")}(window.jQuery);