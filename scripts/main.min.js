function shackUp(){this.baseURI=document.URL,this.pos=0,this.body=$("body"),this.saved=[],this.queue=listings,this.searchForm=$(".filters__form"),this.init=function(){this.refreshListings()},this.love=function(){var t=$(this).parents(".listing");t.animate({opacity:0,left:"+=100%"},300,function(){shack.saved.push(t.detach()),shack.initSwipe($(".listing").last())})},this.hate=function(){$(this).parents(".listing").animate({opacity:0,left:"-=100%"},300,function(){this.remove(),shack.initSwipe($(".listing").last())})},this.showAbout=function(){$(event.target).parents(".listing").removeClass().addClass("listing listing--detailed")},this.initSwipe=function(t){t.on("swipeleft",function(){var t=$(this);if(!t.hasClass("listing--detailed")){var n=$(this).find(".listing__pass-button");n.trigger("click")}}),t.on("swiperight",function(){var t=$(this);if(!t.hasClass("listing--detailed")){var n=$(this).find(".listing__like-button");n.trigger("click")}})},this.getQuery=function(t){t.preventDefault();var n=(this.searchForm.serialize(),$(".filters__options--prop-type .filter--active")),e=$(".filters__options--beds .filter--active"),i=$(".filters__options--baths .filter--active");console.log(e,i,n)},this.registerClickHandlers=function(){var t=$(".listing__like-button"),n=$(".listing__pass-button"),e=$('.listing__nav [data-type="about"]'),i=($('.listing__nav [data-type="contact"]'),$(".filters__filter-option"));t.click(this.love),n.click(this.hate),e.click(this.showAbout),i.click(function(){$(event.target).toggleClass("filter--active")}),this.searchForm.submit(this.getQuery.bind(this))},this.refreshListings=function(){shack.showListings({data:this.queue}),this.registerClickHandlers(),this.initSwipe($(".listing").last())},this.showListings=function(t){var n=_.template($("script.template2").html());$("script.template2").after(n(t))},this.showSaved=function(t){var n=_.template($("script.template").html());$(".saved__list").html(n(t))}}var shack=shack||new shackUp;$(document).ready(function(){Number.prototype.formatMoney=function(t,n,e){var i=this,t=isNaN(t=Math.abs(t))?2:t,n=void 0==n?".":n,e=void 0==e?",":e,r=0>i?"-":"",o=parseInt(i=Math.abs(+i||0).toFixed(t))+"",a=(a=o.length)>3?a%3:0;return r+(a?o.substr(0,a)+e:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+e)+(t?n+Math.abs(i-o).toFixed(t).slice(2):"")},shack.init(),$(".nav-menu").click(function(){$(".filters").toggleClass("filters-open"),$(".overlay").fadeToggle(400,"linear")}),$(".nav-logo").click(function(){$(".panel-open").removeClass("panel-open"),$(".filters-open").removeClass("filters-open"),$(".overlay").fadeOut(400,"linear")}),$(".nav-list").click(function(){shack.showSaved({data:shack.queue}),$(".saved").toggleClass("saved-open"),$(".container").toggleClass("panel-open"),$(".nav-logo").toggleClass("active"),$(this).toggleClass("active")}),$(".overlay").click(function(t){$(".menu").removeClass("menu-open"),$(".overlay").fadeToggle(200,"linear")}),$(".refreshListings").click(function(){shack.refreshListings()}),$(".listing__gallery").click(function(t){var n=$(this),e=n.parents(".listing");e.hasClass("listing--detailed")?(t.stopPropagation(),e.removeClass("listing--detailed listing--contact"),n.unslider("destroySwipe"),n.unslider("destroyKeys"),$(".unslider-nav").css("display","none")):(e.addClass("listing--detailed"),n.removeClass("stopped"),n.hasClass("initialized")?(n.unslider("initSwipe"),n.unslider("initKeys"),$(".unslider-nav").css("display","block")):(n.unslider({arrows:!1,autoplay:!1,speed:500,complete:function(){},keys:!0,nav:!0,fluid:!0}),n.addClass("initialized")))})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,n){function e(t){function n(t){i?(e(),E(n),r=!0,i=!1):r=!1}var e=t,i=!1,r=!1;this.kick=function(t){i=!0,r||n()},this.end=function(t){var n=e;t&&(r?(e=i?function(){n(),t()}:t,i=!0):t())}}function i(){return!0}function r(){return!1}function o(t){t.preventDefault()}function a(t){L[t.target.tagName.toLowerCase()]||t.preventDefault()}function s(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function u(t,n){var e,i;if(t.identifiedTouch)return t.identifiedTouch(n);for(e=-1,i=t.length;++e<i;)if(t[e].identifier===n)return t[e]}function c(t,n){var e=u(t.changedTouches,n.identifier);if(e&&(e.pageX!==n.pageX||e.pageY!==n.pageY))return e}function l(t){var n;s(t)&&(n={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},q(document,R.move,f,n),q(document,R.cancel,p,n))}function f(t){var n=t.data;y(t,n,t,d)}function p(t){d()}function d(){N(document,R.move,f),N(document,R.cancel,p)}function v(t){var n,e;L[t.target.tagName.toLowerCase()]||(n=t.changedTouches[0],e={target:n.target,startX:n.pageX,startY:n.pageY,timeStamp:t.timeStamp,identifier:n.identifier},q(document,D.move+"."+n.identifier,h,e),q(document,D.cancel+"."+n.identifier,g,e))}function h(t){var n=t.data,e=c(t,n);e&&y(t,n,e,m)}function g(t){var n=t.data,e=u(t.changedTouches,n.identifier);e&&m(n.identifier)}function m(t){N(document,"."+t,h),N(document,"."+t,g)}function y(t,n,e,i){var r=e.pageX-n.startX,o=e.pageY-n.startY;M*M>r*r+o*o||$(t,n,e,r,o,i)}function w(){return this._handled=i,!1}function _(t){t._handled()}function $(t,n,e,i,r,o){var a,s;n.target;a=t.targetTouches,s=t.timeStamp-n.timeStamp,n.type="movestart",n.distX=i,n.distY=r,n.deltaX=i,n.deltaY=r,n.pageX=e.pageX,n.pageY=e.pageY,n.velocityX=i/s,n.velocityY=r/s,n.targetTouches=a,n.finger=a?a.length:1,n._handled=w,n._preventTouchmoveDefault=function(){t.preventDefault()},I(n.target,n),o(n.identifier)}function x(t){var n=t.data.event,e=t.data.timer;j(n,t,t.timeStamp,e)}function b(t){var n=t.data.event,e=t.data.timer;k(),C(n,e,function(){setTimeout(function(){N(n.target,"click",r)},0)})}function k(t){N(document,R.move,x),N(document,R.end,b)}function X(t){var n=t.data.event,e=t.data.timer,i=c(t,n);i&&(t.preventDefault(),n.targetTouches=t.targetTouches,j(n,i,t.timeStamp,e))}function Y(t){var n=t.data.event,e=t.data.timer,i=u(t.changedTouches,n.identifier);i&&(S(n),C(n,e))}function S(t){N(document,"."+t.identifier,X),N(document,"."+t.identifier,Y)}function j(t,n,e,i){var r=e-t.timeStamp;t.type="move",t.distX=n.pageX-t.startX,t.distY=n.pageY-t.startY,t.deltaX=n.pageX-t.pageX,t.deltaY=n.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/r,t.velocityY=.3*t.velocityY+.7*t.deltaY/r,t.pageX=n.pageX,t.pageY=n.pageY,i.kick()}function C(t,n,e){n.end(function(){return t.type="moveend",I(t.target,t),e&&e()})}function A(t,n,e){return q(this,"movestart.move",_),!0}function T(t){return N(this,"dragstart drag",o),N(this,"mousedown touchstart",a),N(this,"movestart",_),!0}function F(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(q(this,"dragstart."+t.guid+" drag."+t.guid,o,n,t.selector),q(this,"mousedown."+t.guid,a,n,t.selector))}function O(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(N(this,"dragstart."+t.guid+" drag."+t.guid),N(this,"mousedown."+t.guid))}var M=6,q=t.event.add,N=t.event.remove,I=function(n,e,i){t.event.trigger(e,i,n)},E=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,n){return window.setTimeout(function(){t()},25)}}(),L={textarea:!0,input:!0,select:!0,button:!0},R={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},D={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:A,teardown:T,add:F,remove:O,_default:function(t){var i,o;t._handled()&&(i={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},o={event:i,timer:new e(function(n){I(t.target,i)})},t.identifier===n?(q(t.target,"click",r),q(document,R.move,x,o),q(document,R.end,b,o)):(t._preventTouchmoveDefault(),q(document,D.move+"."+t.identifier,X,o),q(document,D.end+"."+t.identifier,Y,o)))}},t.event.special.move={setup:function(){q(this,"movestart.move",t.noop)},teardown:function(){N(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){q(this,"movestart.moveend",t.noop)},teardown:function(){N(this,"movestart.moveend",t.noop)}},q(document,"mousedown.move",l),q(document,"touchstart.move",v),"function"==typeof Array.prototype.indexOf&&!function(t,n){for(var e=["changedTouches","targetTouches"],i=e.length;i--;)-1===t.event.props.indexOf(e[i])&&t.event.props.push(e[i])}(t)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,n){function e(t){var n,e,i;n=t.target.offsetWidth,e=t.target.offsetHeight,i={distX:t.distX,distY:t.distY,velocityX:t.velocityX,velocityY:t.velocityY,finger:t.finger},t.distX>t.distY?t.distX>-t.distY?(t.distX/n>s.threshold||t.velocityX*t.distX/n*s.sensitivity>1)&&(i.type="swiperight",a(t.currentTarget,i)):(-t.distY/e>s.threshold||t.velocityY*t.distY/n*s.sensitivity>1)&&(i.type="swipeup",a(t.currentTarget,i)):t.distX>-t.distY?(t.distY/e>s.threshold||t.velocityY*t.distY/n*s.sensitivity>1)&&(i.type="swipedown",a(t.currentTarget,i)):(-t.distX/n>s.threshold||t.velocityX*t.distX/n*s.sensitivity>1)&&(i.type="swipeleft",a(t.currentTarget,i))}function i(n){var e=t.data(n,"event_swipe");return e||(e={count:0},t.data(n,"event_swipe",e)),e}var r=t.event.add,o=t.event.remove,a=function(n,e,i){t.event.trigger(e,i,n)},s={threshold:.4,sensitivity:6};t.event.special.swipe=t.event.special.swipeleft=t.event.special.swiperight=t.event.special.swipeup=t.event.special.swipedown={setup:function(t,n,o){var t=i(this);if(!(t.count++>0))return r(this,"moveend",e),!0},teardown:function(){var t=i(this);if(!(--t.count>0))return o(this,"moveend",e),!0},settings:s}}),function(){function t(t){function n(n,e,i,r,o,a){for(;o>=0&&a>o;o+=t){var s=r?r[o]:o;i=e(i,n[s],s,n)}return i}return function(e,i,r,o){i=w(i,o,4);var a=!Y(e)&&y.keys(e),s=(a||e).length,u=t>0?0:s-1;return arguments.length<3&&(r=e[a?a[u]:u],u+=t),n(e,i,r,a,u,s)}}function n(t){return function(n,e,i){e=_(e,i);for(var r=X(n),o=t>0?0:r-1;o>=0&&r>o;o+=t)if(e(n[o],o,n))return o;return-1}}function e(t,n,e){return function(i,r,o){var a=0,s=X(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(e&&o&&s)return o=e(i,r),i[o]===r?o:-1;if(r!==r)return o=n(l.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&s>o;o+=t)if(i[o]===r)return o;return-1}}function i(t,n){var e=T.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(n,o)&&n.push(o);e--;)o=T[e],o in t&&t[o]!==r[o]&&!y.contains(n,o)&&n.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,u=Function.prototype,c=a.push,l=a.slice,f=s.toString,p=s.hasOwnProperty,d=Array.isArray,v=Object.keys,h=u.bind,g=Object.create,m=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var w=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,i){return t.call(n,e,i)};case 3:return function(e,i,r){return t.call(n,e,i,r)};case 4:return function(e,i,r,o){return t.call(n,e,i,r,o)}}return function(){return t.apply(n,arguments)}},_=function(t,n,e){return null==t?y.identity:y.isFunction(t)?w(t,n,e):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,n){return _(t,n,1/0)};var $=function(t,n){return function(e){var i=arguments.length;if(2>i||null==e)return e;for(var r=1;i>r;r++)for(var o=arguments[r],a=t(o),s=a.length,u=0;s>u;u++){var c=a[u];n&&void 0!==e[c]||(e[c]=o[c])}return e}},x=function(t){if(!y.isObject(t))return{};if(g)return g(t);m.prototype=t;var n=new m;return m.prototype=null,n},b=function(t){return function(n){return null==n?void 0:n[t]}},k=Math.pow(2,53)-1,X=b("length"),Y=function(t){var n=X(t);return"number"==typeof n&&n>=0&&k>=n};y.each=y.forEach=function(t,n,e){n=w(n,e);var i,r;if(Y(t))for(i=0,r=t.length;r>i;i++)n(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;r>i;i++)n(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,n,e){n=_(n,e);for(var i=!Y(t)&&y.keys(t),r=(i||t).length,o=Array(r),a=0;r>a;a++){var s=i?i[a]:a;o[a]=n(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,n,e){var i;return i=Y(t)?y.findIndex(t,n,e):y.findKey(t,n,e),void 0!==i&&-1!==i?t[i]:void 0},y.filter=y.select=function(t,n,e){var i=[];return n=_(n,e),y.each(t,function(t,e,r){n(t,e,r)&&i.push(t)}),i},y.reject=function(t,n,e){return y.filter(t,y.negate(_(n)),e)},y.every=y.all=function(t,n,e){n=_(n,e);for(var i=!Y(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var a=i?i[o]:o;if(!n(t[a],a,t))return!1}return!0},y.some=y.any=function(t,n,e){n=_(n,e);for(var i=!Y(t)&&y.keys(t),r=(i||t).length,o=0;r>o;o++){var a=i?i[o]:o;if(n(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,n,e,i){return Y(t)||(t=y.values(t)),("number"!=typeof e||i)&&(e=0),y.indexOf(t,n,e)>=0},y.invoke=function(t,n){var e=l.call(arguments,2),i=y.isFunction(n);return y.map(t,function(t){var r=i?n:t[n];return null==r?r:r.apply(t,e)})},y.pluck=function(t,n){return y.map(t,y.property(n))},y.where=function(t,n){return y.filter(t,y.matcher(n))},y.findWhere=function(t,n){return y.find(t,y.matcher(n))},y.max=function(t,n,e){var i,r,o=-1/0,a=-1/0;if(null==n&&null!=t){t=Y(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],i>o&&(o=i)}else n=_(n,e),y.each(t,function(t,e,i){r=n(t,e,i),(r>a||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},y.min=function(t,n,e){var i,r,o=1/0,a=1/0;if(null==n&&null!=t){t=Y(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)i=t[s],o>i&&(o=i)}else n=_(n,e),y.each(t,function(t,e,i){r=n(t,e,i),(a>r||1/0===r&&1/0===o)&&(o=t,a=r)});return o},y.shuffle=function(t){for(var n,e=Y(t)?t:y.values(t),i=e.length,r=Array(i),o=0;i>o;o++)n=y.random(0,o),n!==o&&(r[o]=r[n]),r[n]=e[o];return r},y.sample=function(t,n,e){return null==n||e?(Y(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,n))},y.sortBy=function(t,n,e){return n=_(n,e),y.pluck(y.map(t,function(t,e,i){return{value:t,index:e,criteria:n(t,e,i)}}).sort(function(t,n){var e=t.criteria,i=n.criteria;if(e!==i){if(e>i||void 0===e)return 1;if(i>e||void 0===i)return-1}return t.index-n.index}),"value")};var S=function(t){return function(n,e,i){var r={};return e=_(e,i),y.each(n,function(i,o){var a=e(i,o,n);t(r,i,a)}),r}};y.groupBy=S(function(t,n,e){y.has(t,e)?t[e].push(n):t[e]=[n]}),y.indexBy=S(function(t,n,e){t[e]=n}),y.countBy=S(function(t,n,e){y.has(t,e)?t[e]++:t[e]=1}),y.toArray=function(t){return t?y.isArray(t)?l.call(t):Y(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:Y(t)?t.length:y.keys(t).length},y.partition=function(t,n,e){n=_(n,e);var i=[],r=[];return y.each(t,function(t,e,o){(n(t,e,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,n,e){return null==t?void 0:null==n||e?t[0]:y.initial(t,t.length-n)},y.initial=function(t,n,e){return l.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},y.last=function(t,n,e){return null==t?void 0:null==n||e?t[t.length-1]:y.rest(t,Math.max(0,t.length-n))},y.rest=y.tail=y.drop=function(t,n,e){return l.call(t,null==n||e?1:n)},y.compact=function(t){return y.filter(t,y.identity)};var j=function(t,n,e,i){for(var r=[],o=0,a=i||0,s=X(t);s>a;a++){var u=t[a];if(Y(u)&&(y.isArray(u)||y.isArguments(u))){n||(u=j(u,n,e));var c=0,l=u.length;for(r.length+=l;l>c;)r[o++]=u[c++]}else e||(r[o++]=u)}return r};y.flatten=function(t,n){return j(t,n,!1)},y.without=function(t){return y.difference(t,l.call(arguments,1))},y.uniq=y.unique=function(t,n,e,i){y.isBoolean(n)||(i=e,e=n,n=!1),null!=e&&(e=_(e,i));for(var r=[],o=[],a=0,s=X(t);s>a;a++){var u=t[a],c=e?e(u,a,t):u;n?(a&&o===c||r.push(u),o=c):e?y.contains(o,c)||(o.push(c),r.push(u)):y.contains(r,u)||r.push(u)}return r},y.union=function(){return y.uniq(j(arguments,!0,!0))},y.intersection=function(t){for(var n=[],e=arguments.length,i=0,r=X(t);r>i;i++){var o=t[i];if(!y.contains(n,o)){for(var a=1;e>a&&y.contains(arguments[a],o);a++);a===e&&n.push(o)}}return n},y.difference=function(t){var n=j(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(n,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var n=t&&y.max(t,X).length||0,e=Array(n),i=0;n>i;i++)e[i]=y.pluck(t,i);return e},y.object=function(t,n){for(var e={},i=0,r=X(t);r>i;i++)n?e[t[i]]=n[i]:e[t[i][0]]=t[i][1];return e},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(t,n,e,i){e=_(e,i,1);for(var r=e(n),o=0,a=X(t);a>o;){var s=Math.floor((o+a)/2);e(t[s])<r?o=s+1:a=s}return o},y.indexOf=e(1,y.findIndex,y.sortedIndex),y.lastIndexOf=e(-1,y.findLastIndex),y.range=function(t,n,e){null==n&&(n=t||0,t=0),e=e||1;for(var i=Math.max(Math.ceil((n-t)/e),0),r=Array(i),o=0;i>o;o++,t+=e)r[o]=t;return r};var C=function(t,n,e,i,r){if(!(i instanceof n))return t.apply(e,r);var o=x(t.prototype),a=t.apply(o,r);return y.isObject(a)?a:o};y.bind=function(t,n){if(h&&t.bind===h)return h.apply(t,l.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var e=l.call(arguments,2),i=function(){return C(t,i,n,this,e.concat(l.call(arguments)))};return i},y.partial=function(t){var n=l.call(arguments,1),e=function(){for(var i=0,r=n.length,o=Array(r),a=0;r>a;a++)o[a]=n[a]===y?arguments[i++]:n[a];for(;i<arguments.length;)o.push(arguments[i++]);return C(t,e,this,this,o)};return e},y.bindAll=function(t){var n,e,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(n=1;i>n;n++)e=arguments[n],t[e]=y.bind(t[e],t);return t},y.memoize=function(t,n){var e=function(i){var r=e.cache,o=""+(n?n.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return e.cache={},e},y.delay=function(t,n){var e=l.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,n,e){var i,r,o,a=null,s=0;e||(e={});var u=function(){s=e.leading===!1?0:y.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var c=y.now();s||e.leading!==!1||(s=c);var l=n-(c-s);return i=this,r=arguments,0>=l||l>n?(a&&(clearTimeout(a),a=null),s=c,o=t.apply(i,r),a||(i=r=null)):a||e.trailing===!1||(a=setTimeout(u,l)),o}},y.debounce=function(t,n,e){var i,r,o,a,s,u=function(){var c=y.now()-a;n>c&&c>=0?i=setTimeout(u,n-c):(i=null,e||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var c=e&&!i;return i||(i=setTimeout(u,n)),c&&(s=t.apply(o,r),o=r=null),s}},y.wrap=function(t,n){return y.partial(n,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,i=t[n].apply(this,arguments);e--;)i=t[e].call(this,i);return i}},y.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},y.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=null),e}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(v)return v(t);var n=[];for(var e in t)y.has(t,e)&&n.push(e);return A&&i(t,n),n},y.allKeys=function(t){if(!y.isObject(t))return[];var n=[];for(var e in t)n.push(e);return A&&i(t,n),n},y.values=function(t){for(var n=y.keys(t),e=n.length,i=Array(e),r=0;e>r;r++)i[r]=t[n[r]];return i},y.mapObject=function(t,n,e){n=_(n,e);for(var i,r=y.keys(t),o=r.length,a={},s=0;o>s;s++)i=r[s],a[i]=n(t[i],i,t);return a},y.pairs=function(t){for(var n=y.keys(t),e=n.length,i=Array(e),r=0;e>r;r++)i[r]=[n[r],t[n[r]]];return i},y.invert=function(t){for(var n={},e=y.keys(t),i=0,r=e.length;r>i;i++)n[t[e[i]]]=e[i];return n},y.functions=y.methods=function(t){var n=[];for(var e in t)y.isFunction(t[e])&&n.push(e);return n.sort()},y.extend=$(y.allKeys),y.extendOwn=y.assign=$(y.keys),y.findKey=function(t,n,e){n=_(n,e);for(var i,r=y.keys(t),o=0,a=r.length;a>o;o++)if(i=r[o],n(t[i],i,t))return i},y.pick=function(t,n,e){var i,r,o={},a=t;if(null==a)return o;y.isFunction(n)?(r=y.allKeys(a),i=w(n,e)):(r=j(arguments,!1,!1,1),i=function(t,n,e){return n in e},a=Object(a));for(var s=0,u=r.length;u>s;s++){var c=r[s],l=a[c];i(l,c,a)&&(o[c]=l)}return o},y.omit=function(t,n,e){if(y.isFunction(n))n=y.negate(n);else{var i=y.map(j(arguments,!1,!1,1),String);n=function(t,n){return!y.contains(i,n)}}return y.pick(t,n,e)},y.defaults=$(y.allKeys,!0),y.create=function(t,n){var e=x(t);return n&&y.extendOwn(e,n),e},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,n){return n(t),t},y.isMatch=function(t,n){var e=y.keys(n),i=e.length;if(null==t)return!i;for(var r=Object(t),o=0;i>o;o++){var a=e[o];if(n[a]!==r[a]||!(a in r))return!1}return!0};var F=function(t,n,e,i){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return t===n;t instanceof y&&(t=t._wrapped),n instanceof y&&(n=n._wrapped);var r=f.call(t);if(r!==f.call(n))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var a=t.constructor,s=n.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],i=i||[];for(var u=e.length;u--;)if(e[u]===t)return i[u]===n;if(e.push(t),i.push(n),o){if(u=t.length,u!==n.length)return!1;for(;u--;)if(!F(t[u],n[u],e,i))return!1}else{var c,l=y.keys(t);if(u=l.length,y.keys(n).length!==u)return!1;for(;u--;)if(c=l[u],!y.has(n,c)||!F(t[c],n[c],e,i))return!1}return e.pop(),i.pop(),!0};y.isEqual=function(t,n){return F(t,n)},y.isEmpty=function(t){return null==t?!0:Y(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=d||function(t){return"[object Array]"===f.call(t)},y.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(n){return f.call(n)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===f.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,n){return null!=t&&p.call(t,n)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=b,y.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(n){return y.isMatch(n,t)}},y.times=function(t,n,e){var i=Array(Math.max(0,t));n=w(n,e,1);for(var r=0;t>r;r++)i[r]=n(r);return i},y.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},M=y.invert(O),q=function(t){var n=function(n){return t[n]},e="(?:"+y.keys(t).join("|")+")",i=RegExp(e),r=RegExp(e,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,n):t}};y.escape=q(O),y.unescape=q(M),y.result=function(t,n,e){var i=null==t?void 0:t[n];return void 0===i&&(i=e),y.isFunction(i)?i.call(t):i};var N=0;y.uniqueId=function(t){var n=++N+"";return t?t+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,E={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+E[t]};y.template=function(t,n,e){!n&&e&&(n=e),n=y.defaults({},n,y.templateSettings);var i=RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(n,e,i,a,s){return o+=t.slice(r,s).replace(L,R),r=s+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,y)},c=n.variable||"obj";return u.source="function("+c+"){\n"+o+"}",u},y.chain=function(t){var n=y(t);return n._chain=!0,n};var D=function(t,n){return t._chain?y(n).chain():n};y.mixin=function(t){y.each(y.functions(t),function(n){var e=y[n]=t[n];y.prototype[n]=function(){var t=[this._wrapped];return c.apply(t,arguments),D(this,e.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=a[t];y.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],D(this,e)}}),y.each(["concat","join","slice"],function(t){var n=a[t];y.prototype[t]=function(){return D(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),!function(t){return t?(t.Unslider=function(n,e){var i=this;return i._="unslider",i.defaults={autoplay:!1,delay:3e3,speed:750,easing:"swing",keys:{prev:37,next:39},nav:!0,arrows:{prev:'<a class="'+i._+'-arrow prev">Prev</a>',next:'<a class="'+i._+'-arrow next">Next</a>'},animation:"horizontal",selectors:{container:"ul:first",slides:"li"},animateHeight:!1,activeClass:i._+"-active",swipe:!0,swipeThreshold:.2},i.$context=n,i.options={},i.$parent=null,i.$container=null,i.$slides=null,i.$nav=null,i.$arrows=[],i.total=0,i.current=0,i.prefix=i._+"-",i.eventSuffix="."+i.prefix+~~(2e3*Math.random()),i.interval=null,i.init=function(n){return i.options=t.extend({},i.defaults,n),i.$container=i.$context.find(i.options.selectors.container).addClass(i.prefix+"wrap"),i.$slides=i.$container.children(i.options.selectors.slides),i.setup(),t.each(["nav","arrows","keys","infinite"],function(n,e){i.options[e]&&i["init"+t._ucfirst(e)]()}),jQuery.event.special.swipe&&i.options.swipe&&i.initSwipe(),i.options.autoplay&&i.start(),i.calculateSlides(),i.$context.trigger(i._+".ready"),i.animate(i.options.index||i.current,"init")},i.setup=function(){i.$context.addClass(i.prefix+i.options.animation).wrap('<div class="'+i._+'" />'),i.$parent=i.$context.parent("."+i._);var t=i.$context.css("position");"static"===t&&i.$context.css("position","relative"),i.$context.css("overflow","hidden")},i.calculateSlides=function(){if(i.total=i.$slides.length,"fade"!==i.options.animation){var t="width";"vertical"===i.options.animation&&(t="height"),i.$container.css(t,100*i.total+"%").addClass(i.prefix+"carousel"),i.$slides.css(t,100/i.total+"%")}},i.start=function(){return i.interval=setTimeout(function(){i.next()},i.options.delay),i},i.stop=function(){return clearTimeout(i.interval),i},i.initNav=function(){var n=t('<nav class="'+i.prefix+'nav"><ol /></nav>');i.$slides.each(function(e){var r=this.getAttribute("data-nav")||e+1;t.isFunction(i.options.nav)&&(r=i.options.nav.call(i.$slides.eq(e),e,r)),n.children("ol").append('<li data-slide="'+e+'">'+r+"</li>")}),i.$nav=n.insertAfter(i.$context),i.$nav.find("li").on("click"+i.eventSuffix,function(){var n=t(this).addClass(i.options.activeClass);n.siblings().removeClass(i.options.activeClass),i.animate(n.attr("data-slide"))})},i.initArrows=function(){i.options.arrows===!0&&(i.options.arrows=i.defaults.arrows),t.each(i.options.arrows,function(n,e){i.$arrows.push(t(e).insertAfter(i.$context).on("click"+i.eventSuffix,i[n]))})},i.initKeys=function(){i.options.keys===!0&&(i.options.keys=i.defaults.keys),t(document).on("keyup"+i.eventSuffix,function(n){t.each(i.options.keys,function(e,r){n.which===r&&t.isFunction(i[e])&&i[e].call(i)})})},i.initSwipe=function(){var t=i.$slides.width();"fade"!==i.options.animation&&i.$container.on({movestart:function(t){return t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY?!!t.preventDefault():void i.$container.css("position","relative")},move:function(n){i.$container.css("left",-(100*i.current)+100*n.distX/t+"%")},moveend:function(n){Math.abs(n.distX)/t>i.options.swipeThreshold?i[n.distX<0?"next":"prev"]():i.$container.animate({left:-(100*i.current)+"%"},i.options.speed/2)}})},i.initInfinite=function(){var n=["first","last"];t.each(n,function(t,e){i.$slides.push.apply(i.$slides,i.$slides.filter(':not(".'+i._+'-clone")')[e]().clone().addClass(i._+"-clone")["insert"+(0===t?"After":"Before")](i.$slides[n[~~!t]]()))})},i.destroyArrows=function(){t.each(i.$arrows,function(t,n){n.remove()})},i.destroySwipe=function(){i.$container.off("movestart move moveend")},i.destroyKeys=function(){t(document).off("keyup"+i.eventSuffix)},i.setIndex=function(t){return 0>t&&(t=i.total-1),i.current=Math.min(Math.max(0,t),i.total-1),i.options.nav&&i.$nav.find('[data-slide="'+i.current+'"]')._active(i.options.activeClass),i.$slides.eq(i.current)._active(i.options.activeClass),i},i.animate=function(n,e){if("first"===n&&(n=0),"last"===n&&(n=i.total),isNaN(n))return i;i.options.autoplay&&i.stop().start(),i.setIndex(n),i.$context.trigger(i._+".change",[n,i.$slides.eq(n)]);var r="animate"+t._ucfirst(i.options.animation);return t.isFunction(i[r])&&i[r](i.current,e),i},i.next=function(){var t=i.current+1;return t>=i.total&&(t=0),i.animate(t,"next")},i.prev=function(){return i.animate(i.current-1,"prev")},i.animateHorizontal=function(t){var n="left";return"rtl"===i.$context.attr("dir")&&(n="right"),i.options.infinite&&i.$container.css("margin-"+n,"-100%"),i.slide(n,t)},i.animateVertical=function(t){return i.options.animateHeight=!0,i.options.infinite&&i.$container.css("margin-top",-i.$slides.outerHeight()),i.slide("top",t)},i.slide=function(t,n){if(i.options.animateHeight&&i._move(i.$context,{height:i.$slides.eq(n).outerHeight()},!1),i.options.infinite){var e;n===i.total-1&&(e=i.total-3,n=-1),n===i.total-2&&(e=0,n=i.total-2),"number"==typeof e&&(i.setIndex(e),i.$context.on(i._+".moved",function(){i.current===e&&i.$container.css(t,-(100*e)+"%").off(i._+".moved")}))}var r={};return r[t]=-(100*n)+"%",i._move(i.$container,r)},i.animateFade=function(t){var n=i.$slides.eq(t).addClass(i.options.activeClass);i._move(n.siblings().removeClass(i.options.activeClass),{opacity:0}),i._move(n,{opacity:1},!1)},i._move=function(t,n,e,r){return e!==!1&&(e=function(){i.$context.trigger(i._+".moved")}),t._move(n,r||i.options.speed,i.options.easing,e)},i.init(e)},t.fn._active=function(t){return this.addClass(t).siblings().removeClass(t)},t._ucfirst=function(t){return(t+"").toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},t.fn._move=function(){return this.stop(!0,!0),t.fn[t.fn.velocity?"velocity":"animate"].apply(this,arguments)},void(t.fn.unslider=function(n){return this.each(function(){var e=t(this);if("string"==typeof n&&e.data("unslider")){n=n.split(":");var i=e.data("unslider")[n[0]];if(t.isFunction(i))return i.apply(e,n[1]?n[1].split(","):null)}return e.data("unslider",new t.Unslider(e,n))})})):console.warn("Unslider needs jQuery")}(window.jQuery);